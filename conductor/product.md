# Product Guide: Flow State

## 1. Initial Concept
**Flow State** is a privacy-first, local-only **Progressive Web App (PWA)** that turns your device's state into triggers for automation. It acts as the "Brain" for your device's automation, bridging the gap between raw sensors and complex web workflows.

## 2. Target Audience
*   **Primary:** Privacy-conscious individuals wanting local-only device automation.
*   **Secondary:** Developers looking for a programmable web-layer for mobile devices (via the future "app store").
*   **Tertiary:** Advanced power users and home automation enthusiasts.

## 3. Goals
1.  **MVP Release:** Deliver a functional PWA with essential triggers (battery, network) and actions (webhooks, notifications).
2.  **Core Infrastructure:** Ensure robust local data storage and reliable sensor integrations.
3.  **Automation Engine:** Build a flexible "trigger-action" system for creating flows.
4.  **Marketplace:** Develop the "Integration Marketplace" for sharing and downloading flows.

## 4. Features
*   **Privacy & Local Storage (Critical Differentiator):** End-to-end local data persistence with no mandatory cloud sync.
*   **Vault Management:** Securely export and import your local configuration for backups and data sovereignty.
*   **Stable Universal Triggers:** Reliable, debounced triggers for battery, network, and app visibility status.
*   **Permissions Health Check:** Real-time visibility into required browser permissions with actionable recovery steps.
*   **Basic Triggers & Actions:** Geolocation triggers and webhook/notification actions.
*   **Flow Visualizer/Log:** A clear UI to view, debug, and monitor active flows and history.
*   **Integration Marketplace (V1):** A directory of installable Apple Shortcuts and pre-built automation templates.
